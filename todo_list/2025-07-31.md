# Todo List - 2025-07-31

## Plan Detallado: Refactorización MRST Simulation Scripts

### FASE 1: REORGANIZACIÓN DEL WORKFLOW PRINCIPAL

- [ ] **PASO 1:** Crear script s01_initialize_simulation.m que combine s00 + setup básico siguiendo fase de inicialización documentada
- [ ] **PASO 2:** Crear script s02_build_static_model.m combinando s01_setup_field.m y s03_define_rock_regions.m para seguir fase de construcción del modelo estático
- [ ] **PASO 3:** Refactorizar s02_define_fluid.m como s03_setup_fluid_system.m siguiendo especificaciones de PVT y propiedades de fluidos documentadas
- [ ] **PASO 4:** Crear nuevo script s04_initialize_model.m para condiciones iniciales (presión, saturación) según fase 3 de documentación
- [ ] **PASO 5:** Refactorizar s04_create_schedule.m como s05_implement_wells.m siguiendo especificaciones de 15 pozos (10 productores + 5 inyectores) de la documentación

### FASE 2: CONSOLIDACIÓN DE EJECUCIÓN Y EXPORTACIÓN

- [ ] **PASO 6:** Combinar s05_run_simulation.m, s08_run_workflow_steps.m y s09_execute_simulation_loop.m en nuevo s06_run_simulation.m con flujo claro de ejecución
- [ ] **PASO 7:** Crear s07_export_results.m combinando s06_export_dataset.m, s10-s11d (volumetric, initial, static, dynamic, metadata) siguiendo estructura by_type del Data Catalog
- [ ] **PASO 8:** Refactorizar s12_extract_snapshot.m y s13_generate_completion_report.m como s08_generate_reports.m con reportes y visualizaciones organizadas

### FASE 3: INTEGRACIÓN Y ORQUESTACIÓN

- [ ] **PASO 9:** Crear nuevo s00_run_complete_workflow.m que orqueste todos los pasos (s01-s08) siguiendo el flujo documentado con validaciones entre fases

### FASE 4: DOCUMENTACIÓN Y TRANSICIÓN

- [ ] **PASO 10:** Actualizar CLAUDE.md con nueva estructura del workflow, documentación de cada fase y ejemplos de uso del nuevo sistema
- [ ] **PASO 11:** Mover scripts antiguos a carpeta /legacy/ y crear aliases/wrappers para mantener compatibilidad durante transición

### FASE 5: VALIDACIÓN FINAL

- [ ] **PASO 12:** Validar y probar el nuevo workflow completo ejecutando s00_run_complete_workflow.m y verificar que genera la estructura de datos correcta

## Objetivo Final

**Workflow Documentado Implementado:**
1. **Initialization** → s01_initialize_simulation.m
2. **Static Model Construction** → s02_build_static_model.m  
3. **Fluid System Setup** → s03_setup_fluid_system.m
4. **Model Initialization** → s04_initialize_model.m
5. **Well Implementation** → s05_implement_wells.m
6. **Simulation Execution** → s06_run_simulation.m
7. **Results Export** → s07_export_results.m
8. **Report Generation** → s08_generate_reports.m
9. **Complete Workflow** → s00_run_complete_workflow.m

<!-- Generated by MCP Todo Server -->